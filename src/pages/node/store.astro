---
import Layout from "../../layouts/Layout.astro";
import AddMovie from "../../components/AddMovie.jsx";
import ListStore from "../../components/ListStore.jsx";
const user = Astro.locals.user;
---

<Layout>
  <div class="container mx-auto p-8">
    <h1 class="text-4xl font-bold text-valorant mb-8">Productos</h1>

    <!-- Botones para iniciar sesión y registrarse -->
    {!user && (
      <div class="flex justify-end space-x-4 mb-4">
        <a href="/register" class="bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200">
          Registrarse
        </a>
        <a href="/signin" class="bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition duration-200">
          Iniciar Sesión
        </a>
      </div>
    )}

    <!-- Componente para añadir una nueva película -->
    {user ? (
      <AddMovie client:load />
    ) : (
      <p class="text-red-500">Debes iniciar sesión para añadir una película.</p>
    )}

    <!-- Componente para listar los productos -->
    <ListStore client:load />
  </div>
</Layout>
