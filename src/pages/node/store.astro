---
import Layout from "../../layouts/Layout.astro";
import AddMovie from "../../components/AddMovie.jsx";
import ListStore from "../../components/ListStore.jsx";
const user = Astro.locals.user;
---

<Layout>
  <div class="container mx-auto p-8">
    <h1 class="text-4xl font-bold text-valorant mb-8">Movies 游꿟</h1>

    <!-- Botones para iniciar sesi칩n y registrarse -->
    {!user && (
      <div class="flex justify-end space-x-4 mb-4">
        <a href="/node/register" class="bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200">
          Registrarse
        </a>
        <a href="/node/login" class="bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition duration-200">
          Iniciar Sesi칩n
        </a>
      </div>
    )}

    <!-- Componente para a침adir una nueva pel칤cula -->
    {user ? (
      <AddMovie client:load />
    ) : (
      <p class="text-red-500">Debes iniciar sesi칩n para a침adir una pel칤cula.</p>
    )}

    <!-- Componente para listar las pel칤culas -->
    <ListStore client:load />
  </div>
</Layout>
